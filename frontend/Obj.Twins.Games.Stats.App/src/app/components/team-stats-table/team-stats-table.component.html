<div class="table-container">
  <table
    mat-table
    [dataSource]="dataSource"
    matSort
    matSortActive="winRatio"
    matSortDirection="desc"
    matSortDisableClear="true"
    aria-hidden="true"
  >
    <ng-container matColumnDef="name">
      <th id="name" mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
      <td mat-cell *matCellDef="let element">
        <img
          class="avatar"
          [src]="flagUrl(element.flag)"
          alt="flag"
        />
        {{
          element.name
        }}
      </td>
    </ng-container>

    <ng-container matColumnDef="wins">
      <th id="wins" mat-header-cell *matHeaderCellDef mat-sort-header>
        Wins
      </th>
      <td mat-cell *matCellDef="let element">{{ element.wins }}</td>
    </ng-container>

    <ng-container matColumnDef="draws">
      <th id="draws" mat-header-cell *matHeaderCellDef mat-sort-header>
        Draws
      </th>
      <td mat-cell *matCellDef="let element">{{ element.draws }}</td>
    </ng-container>

    <ng-container matColumnDef="loses">
      <th id="loses" mat-header-cell *matHeaderCellDef mat-sort-header>
        Loses
      </th>
      <td mat-cell *matCellDef="let element">{{ element.loses }}</td>
    </ng-container>

    <ng-container matColumnDef="winRatio">
      <th id="winRatio" mat-header-cell *matHeaderCellDef mat-sort-header>
        Win percentage
      </th>
      <td mat-cell *matCellDef="let element">{{ decimalToPercent(element.winRatio) }}</td>
    </ng-container>

    <ng-container matColumnDef="matchesPlayed">
      <th id="matchesPlayed" mat-header-cell *matHeaderCellDef mat-sort-header>
        Matches played
      </th>
      <td mat-cell *matCellDef="let element">{{ element.matchesPlayed }}</td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns;"></tr>
    <tr
      class="clickable"
      mat-row
      *matRowDef="let row; columns: displayedColumns"
      (click)="onRowClicked(row.id)"
    ></tr>
  </table>
  <div *ngIf="(noData$ | async) && !isLoading" class="no-data">
    No data found
  </div>
  <div *ngIf="isLoading" class="row-spinner align-middle">
    <mat-spinner class="mx-auto mt-50"></mat-spinner>
  </div>
</div>
